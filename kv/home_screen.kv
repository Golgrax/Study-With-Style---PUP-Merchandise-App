#:import ProductItem widgets.product_item.ProductItem

<HomeScreen>:
    BoxLayout:
        orientation: 'vertical'

        BoxLayout:
            size_hint_y: None
            height: '60dp'
            padding: 10
            spacing: 15
            Image:
                source: 'assets/pup_logo.png'
                size_hint_x: None
                width: '120dp'
            Widget:
            Button:
                background_normal: 'assets/cart_icon.png'
                background_down: 'assets/cart_icon.png'
                size_hint: None, None
                size: '40dp', '40dp'
                on_release: app.root.current = 'cart'
                border: 0, 0, 0, 0
            Button:
                background_normal: 'assets/profile_icon.png'
                background_down: 'assets/profile_icon.png'
                size_hint: None, None
                size: '40dp', '40dp'
                on_release: app.on_profile_button()
                border: 0, 0, 0, 0
                
        ScrollView:
            do_scroll_x: False
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                padding: 10
                spacing: 15

                Label:
                    text: 'Best Seller'
                    font_size: '18sp'
                    bold: True
                    color: (0.48, 0, 0, 1)
                    size_hint_y: None
                    height: '30dp'
                    halign: 'left'
                    text_size: self.size
                
                Button:
                    id: best_seller_button
                    size_hint_y: None
                    height: '200dp'
                    on_release: root.view_product_details(root.best_seller_id)
                    background_color: 0, 0, 0, 0 

                    BoxLayout:
                        orientation: 'vertical'
                        pos: self.parent.pos
                        size: self.parent.size
                        
                        Image:
                            id: best_seller_image
                            source: 'assets/question_mark.png'
                            size_hint_y: 0.8
                            
                        Label:
                            id: best_seller_label
                            text: 'Loading...'
                            size_hint_y: 0.2
                            font_size: '16sp'
                            color: (0.48, 0, 0, 1)

                Label:
                    text: 'All Products'
                    font_size: '18sp'
                    bold: True
                    color: (0.48, 0, 0, 1)
                    size_hint_y: None
                    height: '30dp'
                    halign: 'left'
                    text_size: self.size

                GridLayout:
                    id: product_list
                    cols: 1
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: 10

        BoxLayout:
            id: user_nav
            size_hint_y: None
            height: '50dp'
            spacing: 10
            padding: 5
            
            Button:
                text: "Order History"
                on_release: app.root.current = 'order_history'
            Button:
                text: "Contact Us"
                on_release: app.root.current = 'contact_us'

        BoxLayout:
            id: admin_nav
            size_hint_y: None
            height: 0
            opacity: 0
            disabled: True
            padding: 5
            
            Button:
                text: "Back to Inventory"
                on_release: app.root.current = 'inventory_management'
